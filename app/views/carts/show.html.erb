<h1 class="text-3xl font-bold mb-6 text-gray-800">Your Cart</h1>

<% if @cart_items.present? %>
  <div class="bg-white shadow rounded-lg p-6">
    <ul class="divide-y divide-gray-200">
      <% @cart_items.each do |item| %>
        <li class="py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between">
          <div>
            <p class="text-lg font-semibold text-gray-800"><%= item.product.name %></p>
            <p class="text-gray-600">Quantity: <%= item.quantity %></p>
            <p class="text-gray-600">Price each: <%= number_to_currency(item.product.price) %></p>
            <p class="text-gray-800 font-medium">
              Subtotal: <%= number_to_currency(item.quantity * item.product.price) %>
            </p>
          </div>
          <%= button_to "Remove", cart_item_path(item),
                        method: :delete,
                        data: { confirm: "Are you sure?" },
                        class: "mt-3 sm:mt-0 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition" %>
        </li>
      <% end %>
    </ul>

    <div class="mt-6 flex items-center justify-between">
      <p class="text-xl font-semibold text-gray-900">
        Total: <%= number_to_currency(@cart_items.sum { |item| item.quantity * item.product.price }) %>
      </p>
    </div>
  </div>

  <!-- Actions -->
  <div class="mt-8 flex flex-col sm:flex-row gap-4">
    <%= link_to "Continue Shopping", products_path,
                class: "bg-gray-200 hover:bg-gray-300 text-gray-800 px-5 py-2 rounded-lg text-center transition" %>
    <%= link_to "Checkout", checkout_path,
                class: "bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg text-center transition" %>
  </div>

<% else %>
  <div class="bg-white shadow rounded-lg p-6 text-center">
    <p class="text-gray-600 text-lg">Your cart is empty.</p>
    <%= link_to "Continue Shopping", products_path,
                class: "mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition" %>
  </div>
<% end %>


